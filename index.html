<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSE RP BROOKASIL - Sistema Eleitoral Oficial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0f0f23;
            --secondary: #00ff41;
            --accent: #9d00ff;
            --danger: #ff3860;
            --success: #00ff88;
            --warning: #ffaa00;
            --dark: #0a0a0f;
            --darker: #050508;
            --light: #e0e0ff;
            --glass: rgba(15, 15, 35, 0.8);
            --glass-light: rgba(0, 255, 65, 0.1);
            --neon-glow: 0 0 10px var(--secondary), 0 0 20px var(--secondary), 0 0 30px var(--secondary);
            --neon-accent: 0 0 10px var(--accent), 0 0 20px var(--accent);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--darker);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0, 255, 65, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(157, 0, 255, 0.05) 0%, transparent 50%),
                linear-gradient(45deg, var(--darker), var(--primary));
        }

        /* Matrix Effect Background */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: -2;
            animation: matrixMove 20s linear infinite;
        }

        @keyframes matrixMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(40px, 40px); }
        }

        /* Header Cyberpunk */
        .cyber-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--secondary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: var(--neon-glow);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--secondary);
            text-shadow: var(--neon-glow);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .logo-subtitle {
            font-size: 0.8rem;
            color: var(--secondary);
            letter-spacing: 3px;
            font-weight: 600;
        }

        /* Navigation Holographic */
        .cyber-nav {
            position: fixed;
            left: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 999;
            background: var(--glass);
            backdrop-filter: blur(15px);
            border: 2px solid var(--secondary);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: var(--neon-glow);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            color: var(--light);
            text-decoration: none;
            border-radius: 10px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-item:hover {
            background: var(--glass-light);
            transform: translateX(5px);
            border-left: 3px solid var(--secondary);
        }

        .nav-item.active {
            background: var(--glass-light);
            border-left: 3px solid var(--secondary);
            color: var(--secondary);
        }

        .nav-item i {
            width: 24px;
            text-align: center;
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-content {
            margin-top: 100px;
            margin-left: 280px;
            padding: 2rem;
            max-width: 1400px;
        }

        .cyber-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 2px solid var(--secondary);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--neon-glow);
            position: relative;
            overflow: hidden;
        }

        .cyber-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.1), transparent);
            transition: 0.5s;
        }

        .cyber-card:hover::before {
            left: 100%;
        }

        .card-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 1rem;
        }

        /* Stats Grid */
        .cyber-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .cyber-stat {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--secondary);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .cyber-stat:hover {
            transform: translateY(-5px);
            box-shadow: var(--neon-glow);
        }

        .stat-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: var(--secondary);
            margin: 1rem 0;
            text-shadow: var(--neon-glow);
        }

        /* Forms */
        .cyber-form {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--secondary);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            color: var(--secondary);
            margin-bottom: 0.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        .cyber-input, .cyber-select, .cyber-textarea {
            width: 100%;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--secondary);
            border-radius: 10px;
            color: var(--light);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .cyber-input:focus, .cyber-select:focus, .cyber-textarea:focus {
            outline: none;
            box-shadow: var(--neon-glow);
        }

        /* Buttons */
        .cyber-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .cyber-btn-primary {
            background: linear-gradient(45deg, var(--secondary), var(--accent));
            color: var(--dark);
            border: 2px solid var(--secondary);
        }

        .cyber-btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--neon-glow);
        }

        .cyber-btn-outline {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .cyber-btn-outline:hover {
            background: var(--glass-light);
            transform: translateY(-3px);
            box-shadow: var(--neon-glow);
        }

        /* Tables */
        .cyber-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--secondary);
            border-radius: 10px;
            overflow: hidden;
        }

        .cyber-table th {
            background: rgba(0, 255, 65, 0.1);
            color: var(--secondary);
            padding: 1.5rem;
            text-align: left;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cyber-table td {
            padding: 1.2rem;
            border-bottom: 1px solid rgba(0, 255, 65, 0.1);
        }

        .cyber-table tr:hover {
            background: rgba(0, 255, 65, 0.05);
        }

        /* Status Badges */
        .cyber-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .badge-success {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .badge-warning {
            background: rgba(255, 170, 0, 0.1);
            color: var(--warning);
            border: 1px solid var(--warning);
        }

        .badge-danger {
            background: rgba(255, 56, 96, 0.1);
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        /* Tabs */
        .cyber-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 1rem;
        }

        .cyber-tab {
            padding: 1rem 2rem;
            background: transparent;
            border: 2px solid var(--secondary);
            border-radius: 10px;
            color: var(--secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
        }

        .cyber-tab.active {
            background: var(--secondary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-content {
                margin-left: 0;
                padding: 1rem;
            }

            .cyber-nav {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .cyber-header {
                flex-direction: column;
                padding: 1rem;
                text-align: center;
            }

            .logo-container {
                margin-bottom: 1rem;
            }

            .cyber-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="matrix-bg"></div>
    
    <!-- Header -->
    <header class="cyber-header">
        <div class="logo-container">
            <div class="logo-icon">
                <i class="fas fa-server"></i>
            </div>
            <div>
                <div class="logo-text">TSE RP BROOKASIL</div>
                <div class="logo-subtitle">SISTEMA ELEITORAL QU츽NTICO</div>
            </div>
        </div>
        
        <div class="header-info">
            <div class="cyber-badge badge-success" id="electionMode">
                <i class="fas fa-vote-yea"></i>
                <span>MODO: MUNICIPAL</span>
            </div>
            
            <div id="adminBadge" style="display: none;">
                <div class="cyber-badge badge-warning">
                    <i class="fas fa-user-shield"></i>
                    <span>MODO ADMIN</span>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Navigation -->
    <nav class="cyber-nav">
        <a class="nav-item active" onclick="showSection('dashboard')">
            <i class="fas fa-dashboard"></i>
            <span>Dashboard</span>
        </a>
        <a class="nav-item" onclick="showSection('candidates')">
            <i class="fas fa-users"></i>
            <span>Candidatos</span>
        </a>
        <a class="nav-item" onclick="showSection('apply')">
            <i class="fas fa-user-plus"></i>
            <span>Candidatar-se</span>
        </a>
        <a class="nav-item" onclick="showSection('parties')">
            <i class="fas fa-flag"></i>
            <span>Partidos</span>
        </a>
        <a class="nav-item" onclick="showSection('tres')">
            <i class="fas fa-balance-scale"></i>
            <span>Tribunais</span>
        </a>
        <a class="nav-item" onclick="showSection('admin')" id="adminNav" style="display: none;">
            <i class="fas fa-user-shield"></i>
            <span>Admin</span>
        </a>
        <a class="nav-item" onclick="showSection('login')" id="loginNav">
            <i class="fas fa-key"></i>
            <span>Acesso</span>
        </a>
    </nav>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard -->
        <section id="dashboard" class="section active">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-dashboard"></i>
                    DASHBOARD SIST칅MICO
                </h2>
                
                <div class="cyber-grid">
                    <div class="cyber-stat">
                        <div class="stat-label">CANDIDATURAS</div>
                        <div class="stat-number" id="totalCandidates">0</div>
                        <div class="stat-desc">Total Registradas</div>
                    </div>
                    
                    <div class="cyber-stat">
                        <div class="stat-label">APROVADAS</div>
                        <div class="stat-number" id="approvedCandidates">0</div>
                        <div class="stat-desc">Homologadas</div>
                    </div>
                    
                    <div class="cyber-stat">
                        <div class="stat-label">PENDENTES</div>
                        <div class="stat-number" id="pendingCandidates">0</div>
                        <div class="stat-desc">Aguardando An치lise</div>
                    </div>
                    
                    <div class="cyber-stat">
                        <div class="stat-label">REJEITADAS</div>
                        <div class="stat-number" id="rejectedCandidates">0</div>
                        <div class="stat-desc">Com Motivo</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; margin-top: 3rem;">
                    <div class="cyber-form">
                        <h3 style="color: var(--secondary); margin-bottom: 1rem;">DISTRIBUI칂츾O POR IDEOLOGIA</h3>
                        <canvas id="ideologyChart"></canvas>
                    </div>
                    
                    <div class="cyber-form">
                        <h3 style="color: var(--secondary); margin-bottom: 1rem;">DISTRIBUI칂츾O POR CARGO</h3>
                        <canvas id="positionChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Candidates -->
        <section id="candidates" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-users"></i>
                    CANDIDATOS REGISTRADOS
                </h2>
                
                <div class="cyber-form">
                    <h3>FILTROS</h3>
                    <div class="cyber-grid">
                        <div class="form-group">
                            <label class="form-label">Estado</label>
                            <select class="cyber-select" id="filterState">
                                <option value="">Todos</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Cargo</label>
                            <select class="cyber-select" id="filterPosition">
                                <option value="">Todos</option>
                                <option value="Presidente">Presidente</option>
                                <option value="Governador">Governador</option>
                                <option value="Senador">Senador</option>
                                <option value="Deputado Federal">Deputado Federal</option>
                                <option value="Deputado Estadual">Deputado Estadual</option>
                                <option value="Prefeito">Prefeito</option>
                                <option value="Vereador">Vereador</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select class="cyber-select" id="filterStatus">
                                <option value="">Todos</option>
                                <option value="APROVADO">Aprovado</option>
                                <option value="PENDENTE">Pendente</option>
                                <option value="REJEITADO">Rejeitado</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button class="cyber-btn cyber-btn-primary" onclick="filterCandidates()">
                            <i class="fas fa-filter"></i> Filtrar
                        </button>
                        <button class="cyber-btn cyber-btn-outline" onclick="resetFilters()">
                            <i class="fas fa-undo"></i> Limpar
                        </button>
                    </div>
                </div>
                
                <div style="margin-top: 2rem; overflow-x: auto;">
                    <table class="cyber-table">
                        <thead>
                            <tr>
                                <th>N칰mero</th>
                                <th>Nome</th>
                                <th>Cargo</th>
                                <th>Partido</th>
                                <th>Estado</th>
                                <th>Status</th>
                                <th>A칞칫es</th>
                            </tr>
                        </thead>
                        <tbody id="candidatesTable">
                            <!-- Dados ser칚o preenchidos via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- Apply -->
        <section id="apply" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-user-plus"></i>
                    FORMUL츼RIO DE CANDIDATURA
                </h2>
                
                <div class="cyber-tabs">
                    <div class="cyber-tab active" onclick="showApplyTab(1)">Dados Pessoais</div>
                    <div class="cyber-tab" onclick="showApplyTab(2)">Partido</div>
                    <div class="cyber-tab" onclick="showApplyTab(3)">Anexos</div>
                </div>
                
                <!-- Tab 1 -->
                <div id="applyTab1" class="cyber-form">
                    <div class="cyber-grid">
                        <div class="form-group">
                            <label class="form-label">Nome Completo *</label>
                            <input type="text" class="cyber-input" id="candidateName" placeholder="Nome para RP">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">TikTok *</label>
                            <input type="text" class="cyber-input" id="candidateTikTok" placeholder="@usuario">
                        </div>
                    </div>
                    
                    <div class="cyber-grid">
                        <div class="form-group">
                            <label class="form-label">Cargo *</label>
                            <select class="cyber-select" id="candidatePosition">
                                <option value="">Selecione</option>
                                <option value="Presidente">Presidente</option>
                                <option value="Governador">Governador</option>
                                <option value="Senador">Senador</option>
                                <option value="Deputado Federal">Deputado Federal</option>
                                <option value="Deputado Estadual">Deputado Estadual</option>
                                <option value="Prefeito">Prefeito</option>
                                <option value="Vereador">Vereador</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ideologia *</label>
                            <select class="cyber-select" id="candidateIdeology">
                                <option value="">Selecione</option>
                                <option value="direita">Direita</option>
                                <option value="centro">Centro</option>
                                <option value="esquerda">Esquerda</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="cyber-grid">
                        <div class="form-group">
                            <label class="form-label">Estado *</label>
                            <select class="cyber-select" id="candidateState" onchange="loadCities()">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Cidade *</label>
                            <select class="cyber-select" id="candidateCity">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="cyber-btn cyber-btn-primary" onclick="nextApplyTab(2)">
                        <i class="fas fa-arrow-right"></i> Pr칩ximo
                    </button>
                </div>
                
                <!-- Tab 2 -->
                <div id="applyTab2" class="cyber-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Partido *</label>
                        <select class="cyber-select" id="candidateParty" onchange="generateCandidateNumber()">
                            <option value="">Selecione</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">N칰mero do Candidato *</label>
                        <input type="text" class="cyber-input" id="candidateNumber" readonly>
                    </div>
                    
                    <div class="cyber-grid">
                        <button class="cyber-btn cyber-btn-outline" onclick="showApplyTab(1)">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        <button class="cyber-btn cyber-btn-primary" onclick="nextApplyTab(3)">
                            <i class="fas fa-arrow-right"></i> Pr칩ximo
                        </button>
                    </div>
                </div>
                
                <!-- Tab 3 -->
                <div id="applyTab3" class="cyber-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Declara칞칚o de Propostas *</label>
                        <textarea class="cyber-textarea" id="candidateDeclaration" rows="4" placeholder="Descreva suas propostas..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Foto (URL) *</label>
                        <input type="text" class="cyber-input" id="candidatePhoto" placeholder="https://exemplo.com/foto.jpg">
                    </div>
                    
                    <div class="form-group">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <input type="checkbox" id="declarationAgree">
                            <label for="declarationAgree" style="color: var(--secondary);">
                                Declaro que todos os dados s칚o fict칤cios para RP
                            </label>
                        </div>
                    </div>
                    
                    <div class="cyber-grid">
                        <button class="cyber-btn cyber-btn-outline" onclick="showApplyTab(2)">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        <button class="cyber-btn cyber-btn-primary" onclick="submitApplication()">
                            <i class="fas fa-paper-plane"></i> Enviar Candidatura
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Parties -->
        <section id="parties" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-flag"></i>
                    PARTIDOS POL칈TICOS
                </h2>
                
                <div class="cyber-tabs">
                    <div class="cyber-tab active" onclick="filterParties('all')">Todos</div>
                    <div class="cyber-tab" onclick="filterParties('direita')">Direita</div>
                    <div class="cyber-tab" onclick="filterParties('centro')">Centro</div>
                    <div class="cyber-tab" onclick="filterParties('esquerda')">Esquerda</div>
                </div>
                
                <div id="partiesList" class="cyber-grid" style="margin-top: 2rem;">
                    <!-- Partidos ser칚o carregados aqui -->
                </div>
            </div>
        </section>
        
        <!-- TREs -->
        <section id="tres" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-balance-scale"></i>
                    TRIBUNAL SUPERIOR ELEITORAL
                </h2>
                
                <div class="cyber-grid">
                    <div class="cyber-stat">
                        <div class="stat-label">TSE NACIONAL</div>
                        <div class="stat-number">1</div>
                        <div class="stat-desc">Controle Total</div>
                    </div>
                    
                    <div class="cyber-stat">
                        <div class="stat-label">TREs ESTADUAIS</div>
                        <div class="stat-number">5</div>
                        <div class="stat-desc">Jurisdi칞칚o Estadual</div>
                    </div>
                    
                    <div class="cyber-stat">
                        <div class="stat-label">TREs MUNICIPAIS</div>
                        <div class="stat-number">10</div>
                        <div class="stat-desc">Jurisdi칞칚o Municipal</div>
                    </div>
                </div>
                
                <div class="cyber-form" style="margin-top: 2rem;">
                    <h3>TSE NACIONAL</h3>
                    <div style="padding: 1rem; background: rgba(0, 255, 65, 0.1); border-radius: 10px; margin: 1rem 0;">
                        <p><strong>Presidente:</strong> Tutu Prot치sio</p>
                        <p><strong>Senha:</strong> Brookasil1234</p>
                        <p><strong>Poderes:</strong> 칔nico que pode alterar o modo da elei칞칚o</p>
                    </div>
                </div>
                
                <div class="cyber-form" style="margin-top: 2rem;">
                    <h3>TREs ESTADUAIS</h3>
                    <div class="cyber-grid" id="stateTREs">
                        <!-- TREs Estaduais ser칚o carregados aqui -->
                    </div>
                </div>
                
                <div class="cyber-form" style="margin-top: 2rem;">
                    <h3>TREs MUNICIPAIS</h3>
                    <div class="cyber-grid" id="cityTREs">
                        <!-- TREs Municipais ser칚o carregados aqui -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Admin Login -->
        <section id="login" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-key"></i>
                    ACESSO ADMINISTRATIVO
                </h2>
                
                <div class="cyber-form">
                    <div class="form-group">
                        <label class="form-label">Tipo de Acesso *</label>
                        <select class="cyber-select" id="loginType" onchange="updateLoginJurisdiction()">
                            <option value="">Selecione</option>
                            <option value="TSE">TSE Nacional</option>
                            <option value="TRE_ESTADUAL">TRE Estadual</option>
                            <option value="TRE_MUNICIPAL">TRE Municipal</option>
                        </select>
                    </div>
                    
                    <div id="jurisdictionSelect" style="display: none;">
                        <div class="form-group">
                            <label class="form-label" id="jurisdictionLabel">Jurisdi칞칚o</label>
                            <select class="cyber-select" id="loginJurisdiction">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Senha *</label>
                        <input type="password" class="cyber-input" id="loginPassword" placeholder="Digite a senha">
                    </div>
                    
                    <button class="cyber-btn cyber-btn-primary" onclick="adminLogin()">
                        <i class="fas fa-sign-in-alt"></i> Acessar Sistema
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Admin Panel -->
        <section id="admin" class="section">
            <div class="cyber-card">
                <h2 class="card-title">
                    <i class="fas fa-user-shield"></i>
                    PAINEL ADMINISTRATIVO
                </h2>
                
                <div id="adminInfo" style="margin-bottom: 2rem;"></div>
                
                <!-- Apenas para TSE -->
                <div id="tseControls" style="display: none;">
                    <div class="cyber-form">
                        <h3>CONTROLE DO SISTEMA</h3>
                        <div class="cyber-grid">
                            <div class="form-group">
                                <label class="form-label">Modo da Elei칞칚o</label>
                                <select class="cyber-select" id="electionModeSelect">
                                    <option value="MUNICIPAL">Municipal</option>
                                    <option value="FEDERAL">Federal</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Status do Sistema</label>
                                <select class="cyber-select" id="systemStatus">
                                    <option value="active">Ativo</option>
                                    <option value="inactive">Inativo</option>
                                    <option value="maintenance">Manuten칞칚o</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="cyber-btn cyber-btn-primary" onclick="updateSystemConfig()">
                            <i class="fas fa-save"></i> Salvar Configura칞칫es
                        </button>
                    </div>
                </div>
                
                <!-- Para todos os admins -->
                <div class="cyber-form" style="margin-top: 2rem;">
                    <h3>AN츼LISE DE CANDIDATURAS</h3>
                    <div style="max-height: 400px; overflow-y: auto;">
                        <table class="cyber-table">
                            <thead>
                                <tr>
                                    <th>Candidato</th>
                                    <th>Cargo</th>
                                    <th>Estado</th>
                                    <th>Status</th>
                                    <th>A칞칫es</th>
                                </tr>
                            </thead>
                            <tbody id="adminCandidatesTable">
                                <!-- Candidaturas para an치lise -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                    <button class="cyber-btn cyber-btn-outline" onclick="adminLogout()">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </section>
    </main>
    
    <script>
        // ============================================
        // DADOS DO SISTEMA
        // ============================================

        // Partidos por ideologia
        const PARTIES = {
    direita: [
        { number: "22", name: "Partido Liberal (PL)", color: "#0B3C5D" },
        { number: "11", name: "Progressistas (PP)", color: "#1E90FF" },
        { number: "10", name: "Republicanos", color: "#4169E1" },
        { number: "30", name: "Partido Novo (NOVO)", color: "#00BFFF" },
        { number: "51", name: "Patriota", color: "#2F4F4F" },
        { number: "28", name: "Partido Renovador Trabalhista Brasileiro (PRTB)", color: "#4682B4" },
        { number: "27", name: "Democracia Crist칚 (DC)", color: "#5F9EA0" },
        { number: "36", name: "Agir", color: "#6495ED" },

        // 游댳 FICT칈CIOS
        { number: "38", name: "Uni칚o da Direita Brookasileira (UDB)", color: "#003366" },
        { number: "81", name: "Partido da Ordem e Liberdade (POL)", color: "#1C1C1C" },
        { number: "84", name: "Alian칞a Crist칚 Nacional (ACN)", color: "#2E8B57" },
        { number: "57", name: "Partido da Reedifica칞칚o da Ordem Nacional (PRONA)", color: "#000080" },
        { number: "48", name: "Partido da Esperan칞a (PESP)", color: "#228B22" },
        { number: "86", name: "Partido Militar Nacionalista (PMNL)", color: "#556B2F" },
        { number: "75", name: "Partido Republicano Trabalhista Nacional (PRTN)", color: "#191970" }
    ],

    centro: [
        { number: "15", name: "Movimento Democr치tico Brasileiro (MDB)", color: "#FFD700" },
        { number: "44", name: "Uni칚o Brasil", color: "#FFA500" },
        { number: "55", name: "Partido Social Democr치tico (PSD)", color: "#FFB347" },
        { number: "20", name: "Podemos", color: "#FF8C00" },
        { number: "45", name: "Partido da Social Democracia Brasileira (PSDB)", color: "#FFDAB9" },
        { number: "77", name: "Solidariedade", color: "#F4A460" },
        { number: "70", name: "Avante", color: "#DAA520" },
        { number: "33", name: "Partido da Mobiliza칞칚o Nacional (PMN)", color: "#EEC900" },
        { number: "43", name: "Partido Verde (PV)", color: "#9ACD32" },

        // 游댳 FICT칈CIOS
        { number: "42", name: "Partido da Uni칚o Nacional (PUN)", color: "#F5DEB3" },
        { number: "37", name: "Movimento Popular Democr치tico (MPD)", color: "#FFD966" },
        { number: "26", name: "Partido da Mudan칞a (PDM)", color: "#FFC04D" },
        { number: "63", name: "Movimento Trabalhista Brookasileiro (MTB)", color: "#FFE4B5" },
        { number: "46", name: "Partido Trabalhista Democr치tico (PTD)", color: "#FFD39B" },
        { number: "88", name: "Partido do Sindicato Democrata (PDSD)", color: "#EEDC82" },
        { number: "14", name: "Partido Miss칚o (MSS)", color: "#FFCC99" },
        { number: "85", name: "Partido Constru칞칚o (PC)", color: "#F0E68C" }
    ],

    esquerda: [
        { number: "13", name: "Partido dos Trabalhadores (PT)", color: "#CC0000" },
        { number: "50", name: "Partido Socialismo e Liberdade (PSOL)", color: "#FF4C4C" },
        { number: "65", name: "Partido Comunista do Brasil (PCdoB)", color: "#B22222" },
        { number: "18", name: "Rede Sustentabilidade (REDE)", color: "#32CD32" },
        { number: "12", name: "Partido Democr치tico Trabalhista (PDT)", color: "#DC143C" },
        { number: "80", name: "Unidade Popular (UP)", color: "#8B0000" },
        { number: "29", name: "Partido da Causa Oper치ria (PCO)", color: "#A00000" },
        { number: "21", name: "Partido Comunista Brasileiro (PCB)", color: "#7B0000" },
        { number: "16", name: "Partido Socialista dos Trabalhadores Unificado (PSTU)", color: "#FF0000" },
        { number: "54", name: "Partido P치tria Livre (PPL)", color: "#C00000" },
        { number: "40", name: "Partido Socialista Brasileiro (PSB)", color: "#E60026" },

        // 游댳 FICT칈CIOS
        { number: "60", name: "Partido da Frente Socialista (PFS)", color: "#B30000" },
        { number: "56", name: "Partido Socialista (PS)", color: "#990000" },
        { number: "31", name: "Partido Social Trabalhista Nacional (PSTN)", color: "#CD2626" }
    ]
};

        // D칤gitos por cargo
        const POSITION_DIGITS = {
            "Presidente": 2,
            "Governador": 2,
            "Senador": 3,
            "Deputado Federal": 4,
            "Deputado Estadual": 5,
            "Prefeito": 2,
            "Vereador": 5
        };

        // Estados e suas senhas
        const STATES = [
            { id: 1, name: "Brookhaven", president: "Tutu Prot치sio", password: "TRE_BROOKHAVEN_2024" },
            { id: 2, name: "Novacore", president: "William Harris", password: "TRE_NOVACORE_2024" },
            { id: 3, name: "Caster칤ber", president: "Henrique Camilote", password: "TRE_CAST칄RIBER_2024" },
            { id: 4, name: "Fortemega", president: "Lucas Santos", password: "TRE_FORTEMEGA_2024" },
            { id: 5, name: "Flor칡mix", president: "Rhyan Kalleby", password: "TRE_FLOR칅MIX_2024" }
        ];

        // Cidades e suas senhas
        const CITIES = [
            { id: 1, stateId: 1, name: "Cidade Eleitoral", president: "Tutu Prot치sio", password: "TRE_CIDADE_ELEITORAL_2024" },
            { id: 2, stateId: 1, name: "Liberty City", president: "Ronaldo Caiado", password: "TRE_LIBERTY_CITY_2024" },
            { id: 3, stateId: 2, name: "Nexaville", president: "William Harris", password: "TRE_NEXAVILLE_2024" },
            { id: 4, stateId: 2, name: "Sol치ria", president: "Ryan Mendon칞a", password: "TRE_SOLARIA_2024" },
            { id: 5, stateId: 3, name: "Castelo Verde", president: "Henrique Camilote", password: "TRE_CASTELO_VERDE_2024" },
            { id: 6, stateId: 3, name: "Monte Prata", president: "Jacinto Leite", password: "TRE_MONTE_PRATA_2024" },
            { id: 7, stateId: 4, name: "Marinha City", president: "Lucas Santos", password: "TRE_MARINHA_CITY_2024" },
            { id: 8, stateId: 4, name: "Porto Rubi", president: "Davi Zavarisi", password: "TRE_PORTO_RUBI_2024" },
            { id: 9, stateId: 5, name: "Flor치polis", president: "Rhyan Kalleby", password: "TRE_FLORAPOLIS_2024" },
            { id: 10, stateId: 5, name: "Riomarina", president: "Pedro Camargo", password: "TRE_RIOMARINA_2024" }
        ];

        // TSE Nacional
        const TSE = {
            name: "TSE Nacional",
            president: "Tutu Prot치sio",
            password: "Brookasil1234"
        };

        // ============================================
        // ESTADO DO SISTEMA
        // ============================================

        let currentUser = null;
        let candidates = JSON.parse(localStorage.getItem('candidates')) || [];
        let systemConfig = JSON.parse(localStorage.getItem('systemConfig')) || {
            electionMode: "FEDERAL",
            systemStatus: "active"
        };

        // ============================================
        // INICIALIZA칂츾O
        // ============================================

        document.addEventListener('DOMContentLoaded', function() {
            initSystem();
            updateDashboard();
            loadCandidates();
            loadStates();
            loadParties();
            loadTREs();
            
            // Verificar se h치 usu치rio logado
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                enterAdminMode();
            }
        });

        function initSystem() {
            // Atualizar interface com configura칞칚o
            document.getElementById('electionMode').innerHTML = 
                `<i class="fas fa-vote-yea"></i><span>MODO: ${systemConfig.electionMode}</span>`;
            
            document.getElementById('electionModeSelect').value = systemConfig.electionMode;
            document.getElementById('systemStatus').value = systemConfig.systemStatus;
        }

        // ============================================
        // NAVEGA칂츾O
        // ============================================

        function showSection(sectionId) {
            // Esconder todas as se칞칫es
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Remover active de todos os itens
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Mostrar se칞칚o selecionada
            document.getElementById(sectionId).style.display = 'block';
            
            // Ativar item no menu
            document.querySelector(`.nav-item[onclick*="${sectionId}"]`).classList.add('active');
        }

        // ============================================
        // DASHBOARD
        // ============================================

        function updateDashboard() {
            const total = candidates.length;
            const approved = candidates.filter(c => c.status === 'APROVADO').length;
            const pending = candidates.filter(c => c.status === 'PENDENTE').length;
            const rejected = candidates.filter(c => c.status === 'REJEITADO').length;
            
            document.getElementById('totalCandidates').textContent = total;
            document.getElementById('approvedCandidates').textContent = approved;
            document.getElementById('pendingCandidates').textContent = pending;
            document.getElementById('rejectedCandidates').textContent = rejected;
            
            updateCharts();
        }

        function updateCharts() {
            // Gr치fico de ideologias
            const ideologyData = {
                labels: ['Direita', 'Centro', 'Esquerda'],
                datasets: [{
                    data: [
                        candidates.filter(c => c.ideology === 'direita').length,
                        candidates.filter(c => c.ideology === 'centro').length,
                        candidates.filter(c => c.ideology === 'esquerda').length
                    ],
                    backgroundColor: ['#0B3C5D', '#FFD700', '#CC0000']
                }]
            };
            
            new Chart(document.getElementById('ideologyChart'), {
                type: 'doughnut',
                data: ideologyData,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e0e0ff'
                            }
                        }
                    }
                }
            });
            
            // Gr치fico de cargos
            const positions = {};
            candidates.forEach(c => {
                positions[c.position] = (positions[c.position] || 0) + 1;
            });
            
            new Chart(document.getElementById('positionChart'), {
                type: 'bar',
                data: {
                    labels: Object.keys(positions),
                    datasets: [{
                        label: 'Candidatos',
                        data: Object.values(positions),
                        backgroundColor: '#00ff41'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#e0e0ff' }
                        },
                        x: {
                            ticks: { color: '#e0e0ff' }
                        }
                    }
                }
            });
        }

        // ============================================
        // CANDIDATOS
        // ============================================

        function loadCandidates() {
            const tbody = document.getElementById('candidatesTable');
            tbody.innerHTML = '';
            
            // Filtrar se n칚o for admin (s칩 mostrar aprovados)
            let displayCandidates = candidates;
            if (!currentUser) {
                displayCandidates = candidates.filter(c => c.status === 'APROVADO');
            }
            
            displayCandidates.forEach(candidate => {
                const state = STATES.find(s => s.id === candidate.stateId);
                const party = findPartyByNumber(candidate.partyNumber);
                
                const row = `
                    <tr>
                        <td><strong style="color: var(--secondary);">${candidate.number}</strong></td>
                        <td>${candidate.name}<br><small>${candidate.tikTok}</small></td>
                        <td>${candidate.position}</td>
                        <td>${party ? party.name : candidate.partyNumber}</td>
                        <td>${state ? state.name : ''}</td>
                        <td><span class="cyber-badge ${getStatusBadgeClass(candidate.status)}">${candidate.status}</span></td>
                        <td>
                            <button class="cyber-btn cyber-btn-outline" style="padding: 0.5rem;" onclick="viewCandidate(${candidate.id})">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function getStatusBadgeClass(status) {
            switch(status) {
                case 'APROVADO': return 'badge-success';
                case 'PENDENTE': return 'badge-warning';
                case 'REJEITADO': return 'badge-danger';
                default: return '';
            }
        }

        function filterCandidates() {
            const state = document.getElementById('filterState').value;
            const position = document.getElementById('filterPosition').value;
            const status = document.getElementById('filterStatus').value;
            
            let filtered = candidates;
            
            if (state) {
                filtered = filtered.filter(c => c.stateId == state);
            }
            
            if (position) {
                filtered = filtered.filter(c => c.position === position);
            }
            
            if (status) {
                filtered = filtered.filter(c => c.status === status);
            }
            
            if (!currentUser) {
                filtered = filtered.filter(c => c.status === 'APROVADO');
            }
            
            const tbody = document.getElementById('candidatesTable');
            tbody.innerHTML = '';
            
            filtered.forEach(candidate => {
                const stateObj = STATES.find(s => s.id === candidate.stateId);
                const party = findPartyByNumber(candidate.partyNumber);
                
                const row = `
                    <tr>
                        <td><strong style="color: var(--secondary);">${candidate.number}</strong></td>
                        <td>${candidate.name}<br><small>${candidate.tikTok}</small></td>
                        <td>${candidate.position}</td>
                        <td>${party ? party.name : candidate.partyNumber}</td>
                        <td>${stateObj ? stateObj.name : ''}</td>
                        <td><span class="cyber-badge ${getStatusBadgeClass(candidate.status)}">${candidate.status}</span></td>
                        <td>
                            <button class="cyber-btn cyber-btn-outline" style="padding: 0.5rem;" onclick="viewCandidate(${candidate.id})">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function resetFilters() {
            document.getElementById('filterState').value = '';
            document.getElementById('filterPosition').value = '';
            document.getElementById('filterStatus').value = '';
            loadCandidates();
        }

        // ============================================
        // CANDIDATURA
        // ============================================

        let currentApplyTab = 1;

        function showApplyTab(tabNumber) {
            document.querySelectorAll('.cyber-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById('applyTab1').style.display = 'none';
            document.getElementById('applyTab2').style.display = 'none';
            document.getElementById('applyTab3').style.display = 'none';
            
            document.getElementById(`applyTab${tabNumber}`).style.display = 'block';
            document.querySelectorAll('.cyber-tab')[tabNumber - 1].classList.add('active');
            currentApplyTab = tabNumber;
        }

        function nextApplyTab(tabNumber) {
            // Validar tab atual
            if (currentApplyTab === 1) {
                const name = document.getElementById('candidateName').value;
                const tikTok = document.getElementById('candidateTikTok').value;
                const position = document.getElementById('candidatePosition').value;
                const ideology = document.getElementById('candidateIdeology').value;
                const state = document.getElementById('candidateState').value;
                const city = document.getElementById('candidateCity').value;
                
                if (!name || !tikTok || !position || !ideology || !state || !city) {
                    alert('Preencha todos os campos obrigat칩rios!');
                    return;
                }
                
                // Carregar partidos baseado na ideologia
                loadPartiesByIdeology(ideology);
            }
            
            showApplyTab(tabNumber);
        }

        function loadStates() {
            const stateSelects = [
                document.getElementById('filterState'),
                document.getElementById('candidateState'),
                document.getElementById('loginJurisdiction')
            ];
            
            stateSelects.forEach(select => {
                if (select) {
                    select.innerHTML = '<option value="">Selecione</option>';
                    STATES.forEach(state => {
                        const option = document.createElement('option');
                        option.value = state.id;
                        option.textContent = state.name;
                        select.appendChild(option);
                    });
                }
            });
        }

        function loadCities() {
            const stateId = document.getElementById('candidateState').value;
            const citySelect = document.getElementById('candidateCity');
            citySelect.innerHTML = '<option value="">Selecione</option>';
            
            if (stateId) {
                CITIES.filter(city => city.stateId == stateId).forEach(city => {
                    const option = document.createElement('option');
                    option.value = city.id;
                    option.textContent = city.name;
                    citySelect.appendChild(option);
                });
            }
        }

        function loadPartiesByIdeology(ideology) {
            const partySelect = document.getElementById('candidateParty');
            partySelect.innerHTML = '<option value="">Selecione</option>';
            
            if (PARTIES[ideology]) {
                PARTIES[ideology].forEach(party => {
                    const option = document.createElement('option');
                    option.value = party.number;
                    option.textContent = `${party.number} - ${party.fullName}`;
                    partySelect.appendChild(option);
                });
            }
        }

        function generateCandidateNumber() {
            const party = document.getElementById('candidateParty').value;
            const position = document.getElementById('candidatePosition').value;
            
            if (!party || !position) return;
            
            const digits = POSITION_DIGITS[position] || 2;
            let number = party;
            
            // Adicionar d칤gitos extras se necess치rio
            if (digits > 2) {
                const extraDigits = digits - 2;
                for (let i = 0; i < extraDigits; i++) {
                    number += Math.floor(Math.random() * 10);
                }
            }
            
            document.getElementById('candidateNumber').value = number;
        }

        function submitApplication() {
            const name = document.getElementById('candidateName').value;
            const tikTok = document.getElementById('candidateTikTok').value;
            const position = document.getElementById('candidatePosition').value;
            const ideology = document.getElementById('candidateIdeology').value;
            const state = document.getElementById('candidateState').value;
            const city = document.getElementById('candidateCity').value;
            const party = document.getElementById('candidateParty').value;
            const number = document.getElementById('candidateNumber').value;
            const declaration = document.getElementById('candidateDeclaration').value;
            const photo = document.getElementById('candidatePhoto').value;
            const agree = document.getElementById('declarationAgree').checked;
            
            if (!name || !tikTok || !position || !ideology || !state || !city || !party || !number || !declaration || !photo) {
                alert('Preencha todos os campos obrigat칩rios!');
                return;
            }
            
            if (!agree) {
                alert('Voc칡 deve concordar que todos os dados s칚o fict칤cios!');
                return;
            }
            
            // Verificar se o n칰mero j치 existe para o cargo
            const existingCandidate = candidates.find(c => 
                c.number === number && 
                c.position === position &&
                c.stateId == state
            );
            
            if (existingCandidate) {
                alert('Este n칰mero j치 est치 em uso para este cargo!');
                return;
            }
            
            const candidate = {
                id: Date.now(),
                name: name,
                tikTok: tikTok,
                position: position,
                ideology: ideology,
                stateId: parseInt(state),
                cityId: parseInt(city),
                partyNumber: party,
                number: number,
                declaration: declaration,
                photo: photo,
                status: 'PENDENTE',
                date: new Date().toISOString()
            };
            
            candidates.push(candidate);
            localStorage.setItem('candidates', JSON.stringify(candidates));
            
            // Resetar formul치rio
            document.getElementById('candidateName').value = '';
            document.getElementById('candidateTikTok').value = '';
            document.getElementById('candidatePosition').value = '';
            document.getElementById('candidateIdeology').value = '';
            document.getElementById('candidateState').value = '';
            document.getElementById('candidateCity').value = '';
            document.getElementById('candidateParty').value = '';
            document.getElementById('candidateNumber').value = '';
            document.getElementById('candidateDeclaration').value = '';
            document.getElementById('candidatePhoto').value = '';
            document.getElementById('declarationAgree').checked = false;
            
            showApplyTab(1);
            updateDashboard();
            loadCandidates();
            
            alert('Candidatura enviada com sucesso! Aguarde an치lise do TRE.');
        }

        // ============================================
        // PARTIDOS
        // ============================================

        function loadParties() {
            const partiesList = document.getElementById('partiesList');
            partiesList.innerHTML = '';
            
            for (const ideology in PARTIES) {
                PARTIES[ideology].forEach(party => {
                    const partyCard = `
                        <div class="cyber-stat">
                            <div style="font-size: 2rem; color: var(--secondary); margin-bottom: 1rem;">${party.number}</div>
                            <div style="font-weight: 600; font-size: 1.2rem; margin-bottom: 0.5rem;">${party.fullName}</div>
                            <div style="color: ${ideology === 'direita' ? '#0B3C5D' : ideology === 'centro' ? '#FFD700' : '#CC0000'};">
                                ${ideology.toUpperCase()}
                            </div>
                        </div>
                    `;
                    partiesList.innerHTML += partyCard;
                });
            }
        }

        function filterParties(ideology) {
            const partiesList = document.getElementById('partiesList');
            partiesList.innerHTML = '';
            
            document.querySelectorAll('.cyber-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (ideology === 'all') {
                loadParties();
                return;
            }
            
            if (PARTIES[ideology]) {
                PARTIES[ideology].forEach(party => {
                    const partyCard = `
                        <div class="cyber-stat">
                            <div style="font-size: 2rem; color: var(--secondary); margin-bottom: 1rem;">${party.number}</div>
                            <div style="font-weight: 600; font-size: 1.2rem; margin-bottom: 0.5rem;">${party.fullName}</div>
                            <div style="color: ${ideology === 'direita' ? '#0B3C5D' : ideology === 'centro' ? '#FFD700' : '#CC0000'};">
                                ${ideology.toUpperCase()}
                            </div>
                        </div>
                    `;
                    partiesList.innerHTML += partyCard;
                });
            }
        }

        // ============================================
        // TREs
        // ============================================

        function loadTREs() {
            // TREs Estaduais
            const stateTREs = document.getElementById('stateTREs');
            stateTREs.innerHTML = '';
            
            STATES.forEach(state => {
                const treCard = `
                    <div class="cyber-stat">
                        <div style="font-size: 1.5rem; font-weight: 600; color: var(--secondary);">TRE ${state.name}</div>
                        <div style="margin: 0.5rem 0;">${state.president}</div>
                        <div style="font-size: 0.9rem; color: var(--warning);">Jurisdi칞칚o Estadual</div>
                    </div>
                `;
                stateTREs.innerHTML += treCard;
            });
            
            // TREs Municipais
            const cityTREs = document.getElementById('cityTREs');
            cityTREs.innerHTML = '';
            
            CITIES.forEach(city => {
                const state = STATES.find(s => s.id === city.stateId);
                const treCard = `
                    <div class="cyber-stat">
                        <div style="font-size: 1.2rem; font-weight: 600;">TRE ${city.name}</div>
                        <div style="margin: 0.5rem 0; color: var(--secondary);">${city.president}</div>
                        <div style="font-size: 0.9rem;">${state ? state.name : ''}</div>
                        <div style="font-size: 0.8rem; color: var(--warning);">Jurisdi칞칚o Municipal</div>
                    </div>
                `;
                cityTREs.innerHTML += treCard;
            });
        }

        // ============================================
        // LOGIN ADMIN
        // ============================================

        function updateLoginJurisdiction() {
            const type = document.getElementById('loginType').value;
            const jurisdictionDiv = document.getElementById('jurisdictionSelect');
            const jurisdictionSelect = document.getElementById('loginJurisdiction');
            
            if (type === 'TSE') {
                jurisdictionDiv.style.display = 'none';
            } else {
                jurisdictionDiv.style.display = 'block';
                jurisdictionSelect.innerHTML = '<option value="">Selecione</option>';
                
                if (type === 'TRE_ESTADUAL') {
                    document.getElementById('jurisdictionLabel').textContent = 'Estado';
                    STATES.forEach(state => {
                        const option = document.createElement('option');
                        option.value = state.id;
                        option.textContent = state.name;
                        jurisdictionSelect.appendChild(option);
                    });
                } else if (type === 'TRE_MUNICIPAL') {
                    document.getElementById('jurisdictionLabel').textContent = 'Cidade';
                    CITIES.forEach(city => {
                        const state = STATES.find(s => s.id === city.stateId);
                        const option = document.createElement('option');
                        option.value = city.id;
                        option.textContent = `${city.name} - ${state ? state.name : ''}`;
                        jurisdictionSelect.appendChild(option);
                    });
                }
            }
        }

        function adminLogin() {
            const type = document.getElementById('loginType').value;
            const jurisdiction = document.getElementById('loginJurisdiction').value;
            const password = document.getElementById('loginPassword').value;
            
            let user = null;
            
            if (type === 'TSE') {
                if (password === TSE.password) {
                    user = {
                        type: 'TSE',
                        name: TSE.president,
                        jurisdiction: 'Nacional',
                        permissions: ['ALL']
                    };
                }
            } else if (type === 'TRE_ESTADUAL') {
                const state = STATES.find(s => s.id == jurisdiction);
                if (state && password === state.password) {
                    user = {
                        type: 'TRE_ESTADUAL',
                        name: state.president,
                        jurisdiction: state.name,
                        jurisdictionId: state.id,
                        permissions: ['VIEW_STATE', 'APPROVE_STATE']
                    };
                }
            } else if (type === 'TRE_MUNICIPAL') {
                const city = CITIES.find(c => c.id == jurisdiction);
                if (city && password === city.password) {
                    const state = STATES.find(s => s.id === city.stateId);
                    user = {
                        type: 'TRE_MUNICIPAL',
                        name: city.president,
                        jurisdiction: city.name,
                        jurisdictionId: city.id,
                        stateId: city.stateId,
                        permissions: ['VIEW_CITY', 'APPROVE_CITY']
                    };
                }
            }
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                enterAdminMode();
                showSection('admin');
                loadAdminCandidates();
            } else {
                alert('Senha incorreta ou usu치rio n칚o encontrado!');
            }
        }

        function enterAdminMode() {
            document.getElementById('adminBadge').style.display = 'block';
            document.getElementById('adminNav').style.display = 'flex';
            document.getElementById('loginNav').style.display = 'none';
            
            if (currentUser.type === 'TSE') {
                document.getElementById('tseControls').style.display = 'block';
            }
            
            // Atualizar info do admin
            document.getElementById('adminInfo').innerHTML = `
                <div class="cyber-form">
                    <h3>USU츼RIO: ${currentUser.name}</h3>
                    <p>Tipo: ${currentUser.type}</p>
                    <p>Jurisdi칞칚o: ${currentUser.jurisdiction}</p>
                    <p>Permiss칫es: ${currentUser.permissions.join(', ')}</p>
                </div>
            `;
        }

        // ============================================
        // PAINEL ADMIN
        // ============================================

        function loadAdminCandidates() {
            const tbody = document.getElementById('adminCandidatesTable');
            tbody.innerHTML = '';
            
            let adminCandidates = [];
            
            if (currentUser.type === 'TSE') {
                adminCandidates = candidates.filter(c => c.status === 'PENDENTE');
            } else if (currentUser.type === 'TRE_ESTADUAL') {
                adminCandidates = candidates.filter(c => 
                    c.stateId == currentUser.jurisdictionId && 
                    c.status === 'PENDENTE'
                );
            } else if (currentUser.type === 'TRE_MUNICIPAL') {
                adminCandidates = candidates.filter(c => 
                    c.cityId == currentUser.jurisdictionId && 
                    c.status === 'PENDENTE'
                );
            }
            
            adminCandidates.forEach(candidate => {
                const state = STATES.find(s => s.id === candidate.stateId);
                const row = `
                    <tr>
                        <td>${candidate.name}</td>
                        <td>${candidate.position}</td>
                        <td>${state ? state.name : ''}</td>
                        <td><span class="cyber-badge badge-warning">${candidate.status}</span></td>
                        <td>
                            <button class="cyber-btn cyber-btn-outline" style="padding: 0.5rem; margin-right: 0.5rem;" onclick="approveCandidate(${candidate.id})">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="cyber-btn cyber-btn-outline" style="padding: 0.5rem;" onclick="rejectCandidate(${candidate.id})">
                                <i class="fas fa-times"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function approveCandidate(candidateId) {
            const candidate = candidates.find(c => c.id === candidateId);
            if (candidate) {
                candidate.status = 'APROVADO';
                candidate.approvedBy = currentUser.name;
                candidate.approvalDate = new Date().toISOString();
                
                localStorage.setItem('candidates', JSON.stringify(candidates));
                loadAdminCandidates();
                updateDashboard();
                loadCandidates();
                
                alert('Candidatura aprovada!');
            }
        }

        function rejectCandidate(candidateId) {
            const reason = prompt('Digite o motivo da rejei칞칚o:');
            if (reason) {
                const candidate = candidates.find(c => c.id === candidateId);
                if (candidate) {
                    candidate.status = 'REJEITADO';
                    candidate.rejectedBy = currentUser.name;
                    candidate.rejectionReason = reason;
                    candidate.rejectionDate = new Date().toISOString();
                    
                    localStorage.setItem('candidates', JSON.stringify(candidates));
                    loadAdminCandidates();
                    updateDashboard();
                    loadCandidates();
                    
                    alert('Candidatura rejeitada!');
                }
            }
        }

        function updateSystemConfig() {
            if (currentUser.type !== 'TSE') {
                alert('Apenas o TSE pode alterar configura칞칫es do sistema!');
                return;
            }
            
            systemConfig.electionMode = document.getElementById('electionModeSelect').value;
            systemConfig.systemStatus = document.getElementById('systemStatus').value;
            
            localStorage.setItem('systemConfig', JSON.stringify(systemConfig));
            
            document.getElementById('electionMode').innerHTML = 
                `<i class="fas fa-vote-yea"></i><span>MODO: ${systemConfig.electionMode}</span>`;
            
            alert('Configura칞칫es atualizadas!');
        }

        function adminLogout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            
            document.getElementById('adminBadge').style.display = 'none';
            document.getElementById('adminNav').style.display = 'none';
            document.getElementById('loginNav').style.display = 'flex';
            
            showSection('dashboard');
        }

        // ============================================
        // FUN칂칏ES AUXILIARES
        // ============================================

        function findPartyByNumber(number) {
            for (const ideology in PARTIES) {
                const party = PARTIES[ideology].find(p => p.number === number);
                if (party) return party;
            }
            return null;
        }

        function viewCandidate(id) {
            const candidate = candidates.find(c => c.id === id);
            if (candidate) {
                const state = STATES.find(s => s.id === candidate.stateId);
                const city = CITIES.find(c => c.id === candidate.cityId);
                const party = findPartyByNumber(candidate.partyNumber);
                
                const details = `
                    <div class="cyber-form">
                        <h3>${candidate.name}</h3>
                        <p><strong>TikTok:</strong> ${candidate.tikTok}</p>
                        <p><strong>Cargo:</strong> ${candidate.position}</p>
                        <p><strong>N칰mero:</strong> ${candidate.number}</p>
                        <p><strong>Partido:</strong> ${party ? party.fullName : candidate.partyNumber}</p>
                        <p><strong>Ideologia:</strong> ${candidate.ideology}</p>
                        <p><strong>Localiza칞칚o:</strong> ${city ? city.name : ''} - ${state ? state.name : ''}</p>
                        <p><strong>Status:</strong> <span class="cyber-badge ${getStatusBadgeClass(candidate.status)}">${candidate.status}</span></p>
                        <p><strong>Declara칞칚o:</strong> ${candidate.declaration}</p>
                        ${candidate.photo ? `<img src="${candidate.photo}" style="max-width: 200px; margin-top: 1rem; border-radius: 10px;">` : ''}
                    </div>
                `;
                
                alert(details.replace(/<[^>]*>/g, ''));
            }
        }

        // ============================================
        // INICIALIZAR
        // ============================================

        // Mostrar dashboard inicialmente
        showSection('dashboard');
    </script>
</body>
    </html>
